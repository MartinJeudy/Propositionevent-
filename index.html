<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hormur - Proposition d'événement</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .modal-backdrop {
            backdrop-filter: blur(4px);
        }
        
        .slide-up {
            animation: slideUp 0.3s ease-out;
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .btn-primary {
            background: linear-gradient(135deg, #FF6B4A 0%, #FF8C6A 100%);
            transition: all 0.2s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(255, 107, 74, 0.3);
        }
        
        .btn-secondary {
            transition: all 0.2s ease;
        }
        
        .btn-secondary:hover {
            background-color: #f3f4f6;
            transform: translateY(-1px);
        }

        .card-option {
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .card-option:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        // Données de démonstration
        const proposalData = {
            artist: {
                name: "Durand avec un d",
                photo: "https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?w=400&h=400&fit=crop",
                type: "Concert guitare-voix",
                category: "Musique",
                description: "Auteur-compositeur-interprète de chanson française. Musicien du métro (RATP), je propose un set guitare-voix mêlant compositions originales et reprises de grands classiques. Mon univers navigue entre poésie et mélancolie légère, quelque part entre l'an 3000 et un dimanche soir. Le tout enrobé d'un peu d'humour :)"
            },
            event: {
                venue: "Chez vous",
                date: "Samedi 15 mars 2025",
                time: "19h00",
                capacity: "15-30 personnes",
                fullDateTime: "Samedi 15 mars 2025 à 19h00"
            }
        };

        // Icônes SVG
        const Icons = {
            Check: () => (
                <svg className="w-16 h-16 text-green-500 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            ),
            Location: () => (
                <svg className="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
            ),
            Calendar: () => (
                <svg className="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                </svg>
            ),
            Clock: () => (
                <svg className="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            ),
            Users: () => (
                <svg className="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                </svg>
            ),
            Message: () => (
                <svg className="w-8 h-8 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                </svg>
            ),
            CalendarCheck: () => (
                <svg className="w-8 h-8 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" />
                </svg>
            ),
            ArrowLeft: () => (
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" />
                </svg>
            ),
            Close: () => (
                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                </svg>
            )
        };

        // Composant Modal
        function AcceptanceModal({ isOpen, onClose, onDiscuss, onCreate, eventDate }) {
            if (!isOpen) return null;

            return (
                <div 
                    className="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop fade-in" 
                    style={{ backgroundColor: 'rgba(0, 0, 0, 0.6)' }}
                >
                    <div className="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl slide-up">
                        {/* Header */}
                        <div className="p-6 border-b border-gray-100">
                            <div className="text-center pt-2">
                                <Icons.Check />
                                <h2 className="text-2xl font-bold text-gray-900 mb-2">
                                    Dernière étape !
                                </h2>
                                <p className="text-gray-600 text-lg">
                                    Pour <strong>finaliser votre acceptation</strong>, choisissez comment vous souhaitez continuer
                                </p>
                            </div>
                        </div>

                        {/* Date reminder */}
                        <div className="px-6 py-4 bg-orange-50 border-l-4 border-orange-400">
                            <div className="flex items-center gap-2 text-orange-800">
                                <Icons.Calendar />
                                <span className="font-medium">{eventDate}</span>
                            </div>
                        </div>

                        {/* Options */}
                        <div className="p-6 space-y-4">
                            {/* Option 1: Discuss */}
                            <div 
                                onClick={onDiscuss}
                                className="card-option border-2 border-blue-200 rounded-xl p-6 bg-blue-50 hover:border-blue-400"
                            >
                                <div className="flex items-start gap-4">
                                    <div className="flex-shrink-0">
                                        <Icons.Message />
                                    </div>
                                    <div className="flex-1">
                                        <h3 className="text-lg font-bold text-gray-900 mb-2">Discuter de la date</h3>
                                        <p className="text-gray-600 mb-4">Échanger avec l'artiste pour trouver ensemble la date et l'heure qui vous conviennent le mieux</p>
                                        <button className="w-full sm:w-auto px-6 py-2.5 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors">
                                            Ouvrir la messagerie
                                        </button>
                                    </div>
                                </div>
                            </div>

                            {/* Option 2: Create */}
                            <div 
                                onClick={onCreate}
                                className="card-option border-2 border-orange-200 rounded-xl p-6 bg-orange-50 hover:border-orange-400"
                            >
                                <div className="flex items-start gap-4">
                                    <div className="flex-shrink-0">
                                        <Icons.CalendarCheck />
                                    </div>
                                    <div className="flex-1">
                                        <h3 className="text-lg font-bold text-gray-900 mb-2">Confirmer cette date</h3>
                                        <p className="text-gray-600 mb-4">Valider l'événement pour le <strong>{eventDate}</strong>. Vous pourrez ensuite le personnaliser (titre, description, image...)</p>
                                        <button className="w-full sm:w-auto px-6 py-2.5 btn-primary text-white rounded-lg font-medium">
                                            Valider et créer l'événement
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* Footer avec avertissement */}
                        <div className="p-6 border-t border-gray-100">
                            <div className="flex items-start gap-3 text-sm text-gray-600 bg-gray-50 rounded-lg p-4">
                                <svg className="w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                </svg>
                                <p>
                                    <strong>Action requise :</strong> Vous devez choisir l'une des deux options ci-dessus pour officialiser votre acceptation. L'artiste sera notifié une fois votre choix confirmé.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Composant principal ProposalPage
        function ProposalPage() {
            const [showModal, setShowModal] = useState(false);
            const [actionTaken, setActionTaken] = useState(null);

            const handleRefuse = () => {
                setActionTaken('refused');
                // Animation puis redirection
                setTimeout(() => {
                    alert('Proposition refusée. Dans l\'application réelle, vous seriez redirigé vers votre tableau de bord.');
                }, 300);
            };

            const handleAccept = () => {
                setShowModal(true);
            };

            const handleDiscuss = () => {
                setActionTaken('discuss');
                alert('Ouverture de la messagerie avec l\'artiste. Dans l\'application réelle, vous accéderiez à la conversation.');
                setShowModal(false);
            };

            const handleCreate = () => {
                setActionTaken('created');
                alert('Événement créé ! Dans l\'application réelle, vous seriez redirigé vers la page de l\'événement pour le personnaliser.');
                setShowModal(false);
            };

            return (
                <div className="min-h-screen bg-gray-50">
                    {/* Header */}
                    <header className="bg-white border-b border-gray-200 sticky top-0 z-40">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div className="flex items-center justify-between h-16">
                                <button className="text-gray-600 hover:text-gray-900 transition-colors">
                                    <Icons.ArrowLeft />
                                </button>
                                <div className="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-orange-500 to-red-500">
                                    HORMUR
                                </div>
                                <div className="w-6"></div>
                            </div>
                        </div>
                    </header>

                    {/* Main Content */}
                    <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                        {/* Desktop: 2 columns, Mobile: stacked */}
                        <div className="lg:grid lg:grid-cols-12 lg:gap-8">
                            {/* Left column - Artist info */}
                            <div className="lg:col-span-4 mb-8 lg:mb-0">
                                <div className="bg-white rounded-2xl shadow-lg p-6 sticky top-24">
                                    {/* Artist photo */}
                                    <div className="relative w-32 h-32 mx-auto mb-4">
                                        <img 
                                            src={proposalData.artist.photo} 
                                            alt={proposalData.artist.name}
                                            className="w-full h-full rounded-full object-cover border-4 border-orange-100"
                                        />
                                    </div>

                                    {/* Artist name */}
                                    <h1 className="text-2xl font-bold text-center text-gray-900 mb-2">
                                        {proposalData.artist.name}
                                    </h1>

                                    {/* Artist type */}
                                    <p className="text-center text-gray-600 mb-4">
                                        {proposalData.artist.type}
                                    </p>

                                    {/* Category badge */}
                                    <div className="flex justify-center mb-6">
                                        <span className="px-4 py-1.5 bg-orange-100 text-orange-700 rounded-full text-sm font-medium">
                                            {proposalData.artist.category}
                                        </span>
                                    </div>

                                    {/* Mobile actions (visible only on mobile) */}
                                    <div className="lg:hidden space-y-3 pt-4 border-t border-gray-100">
                                        <button 
                                            onClick={handleRefuse}
                                            className="btn-secondary w-full px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold"
                                        >
                                            Refuser
                                        </button>
                                        <button 
                                            onClick={handleAccept}
                                            className="btn-primary w-full px-6 py-3 text-white rounded-xl font-semibold shadow-lg"
                                        >
                                            Accepter
                                        </button>
                                    </div>
                                </div>
                            </div>

                            {/* Center column - Event details */}
                            <div className="lg:col-span-5 mb-8 lg:mb-0">
                                <div className="bg-white rounded-2xl shadow-lg p-6 sm:p-8">
                                    <h2 className="text-xl font-bold text-gray-900 mb-6">Détails de la proposition</h2>

                                    {/* Event info items */}
                                    <div className="space-y-4 mb-8">
                                        <div className="flex items-center gap-3">
                                            <Icons.Location />
                                            <div>
                                                <p className="text-sm text-gray-500">Lieu</p>
                                                <p className="font-semibold text-gray-900">{proposalData.event.venue}</p>
                                            </div>
                                        </div>

                                        <div className="flex items-center gap-3">
                                            <Icons.Calendar />
                                            <div>
                                                <p className="text-sm text-gray-500">Date</p>
                                                <p className="font-semibold text-gray-900">{proposalData.event.date}</p>
                                            </div>
                                        </div>

                                        <div className="flex items-center gap-3">
                                            <Icons.Clock />
                                            <div>
                                                <p className="text-sm text-gray-500">Heure</p>
                                                <p className="font-semibold text-gray-900">{proposalData.event.time}</p>
                                            </div>
                                        </div>

                                        <div className="flex items-center gap-3">
                                            <Icons.Users />
                                            <div>
                                                <p className="text-sm text-gray-500">Capacité</p>
                                                <p className="font-semibold text-gray-900">{proposalData.event.capacity}</p>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Description */}
                                    <div className="pt-6 border-t border-gray-100">
                                        <h3 className="font-bold text-gray-900 mb-3">À propos de l'artiste</h3>
                                        <p className="text-gray-600 leading-relaxed">
                                            {proposalData.artist.description}
                                        </p>
                                    </div>
                                </div>
                            </div>

                            {/* Right column - Actions (desktop only) */}
                            <div className="hidden lg:block lg:col-span-3">
                                <div className="bg-white rounded-2xl shadow-lg p-6 sticky top-24">
                                    <h3 className="text-lg font-bold text-gray-900 mb-4">Votre réponse</h3>
                                    
                                    <div className="space-y-3">
                                        <button 
                                            onClick={handleRefuse}
                                            className="btn-secondary w-full px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold"
                                        >
                                            Refuser
                                        </button>
                                        
                                        <button 
                                            onClick={handleAccept}
                                            className="btn-primary w-full px-6 py-3 text-white rounded-xl font-semibold shadow-lg"
                                        >
                                            Accepter
                                        </button>
                                    </div>

                                    <p className="text-sm text-gray-500 mt-4 text-center">
                                        En acceptant, vous pourrez choisir comment continuer
                                    </p>
                                </div>
                            </div>
                        </div>
                    </main>

                    {/* Modal */}
                    <AcceptanceModal 
                        isOpen={showModal}
                        onClose={() => setShowModal(false)}
                        onDiscuss={handleDiscuss}
                        onCreate={handleCreate}
                        eventDate={proposalData.event.fullDateTime}
                    />
                </div>
            );
        }

        // Render
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<ProposalPage />);
    </script>
</body>
</html>
